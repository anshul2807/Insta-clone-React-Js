(this["webpackJsonpinsta-clone"]=this["webpackJsonpinsta-clone"]||[]).push([[0],{68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(4),s=n(2),c=n.n(s),o=n(12),i=n.n(o),r=(n(68),n(16)),l=(n(69),n(70),n(122)),u=n(25),p=u.a.initializeApp({apiKey:"AIzaSyCWZtVhdtjI-oQnayEnSTi9nfejnz03kXA",authDomain:"instagram-clone-4a894.firebaseapp.com",projectId:"instagram-clone-4a894",storageBucket:"instagram-clone-4a894.appspot.com",messagingSenderId:"681362260992",appId:"1:681362260992:web:06d293779e23d349d8c4e5",measurementId:"G-7CBE3DSB3C"}).firestore(),j=u.a.auth(),d=u.a.storage(),m=n(113),b=n(118),g=n(121),h=n(56),O=n.n(h);function f(e){var t=[e.username],n=c.a.useState(null),s=Object(r.a)(n,2),o=s[0],i=s[1],l=Boolean(o);return Object(a.jsxs)("div",{children:[Object(a.jsx)(m.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},children:Object(a.jsx)(O.a,{})}),Object(a.jsx)(b.a,{id:"long-menu",anchorEl:o,keepMounted:!0,open:l,onClose:function(){i(null)},PaperProps:{style:{maxHeight:216,width:"20ch"}},children:t.map((function(t){return Object(a.jsx)(g.a,{selected:"Pyxis"===t,onClick:function(t){p.collection("posts").doc(e.postid).delete()},children:t},t)}))})]})}var x=function(e){var t=e.user,n=e.postid,c=e.usernames,o=e.img_link,i=e.captains,j=Object(s.useState)([]),d=Object(r.a)(j,2),m=d[0],b=d[1],g=Object(s.useState)(""),h=Object(r.a)(g,2),O=h[0],x=h[1];Object(s.useEffect)((function(){var e;return n&&(e=p.collection("posts").doc(n).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){b(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[n]);return Object(a.jsxs)("div",{className:"posts",children:[Object(a.jsxs)("div",{className:"posts_username",children:[Object(a.jsx)(l.a,{className:"posts__Avatar",children:c.slice(0,1)}),Object(a.jsx)("p",{className:"posts__username",children:Object(a.jsx)("strong",{children:c})}),t&&t.displayName===c?Object(a.jsx)(f,{postid:n,username:"Delete"}):console.log("a")]}),Object(a.jsx)("div",{className:"posts__img",children:Object(a.jsx)("img",{className:"posts__img_img",src:o})}),Object(a.jsxs)("div",{className:"posts_caption",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:c})," ",i]}),Object(a.jsx)("h3",{style:{color:"lightgray"},children:"Comment Section"}),Object(a.jsx)("div",{className:"postsComments",children:m.map((function(e){return Object(a.jsxs)("p",{children:[Object(a.jsxs)("strong",{children:[e.username," : "]}),e.text]})}))}),t?Object(a.jsxs)("form",{className:"post__box",children:[Object(a.jsx)("input",{className:"post__input",type:"text",value:O,onChange:function(e){return x(e.target.value)},placeholder:"Enter the comments"}),Object(a.jsx)("button",{className:"post__button",disabled:!O,type:"submit",onClick:function(e){e.preventDefault(),p.collection("posts").doc(n).collection("comments").add({text:O,username:t.displayName,timestamp:u.a.firestore.FieldValue.serverTimestamp()}),x("")},children:"Add comment"})]}):console.log(t)]})]})},_=n(117),v=n(119),y=n(116),N=n(120);n(83);var C=function(e){var t=e.username,n=Object(s.useState)(0),c=Object(r.a)(n,2),o=c[0],i=c[1],l=Object(s.useState)(null),j=Object(r.a)(l,2),m=j[0],b=j[1],g=Object(s.useState)(""),h=Object(r.a)(g,2),O=h[0],f=h[1];return Object(a.jsxs)("div",{className:"uploading",children:[Object(a.jsx)("center",{children:Object(a.jsx)("img",{className:"uploading__img",src:"https://logo-logos.com/wp-content/uploads/2016/10/Instagram_logo_wordmark_logotype.png"})}),Object(a.jsx)("progress",{value:o,max:"100"}),Object(a.jsx)("input",{type:"text",placeholder:"Enter the Captain..",onChange:function(e){return f(e.target.value)},value:O}),Object(a.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&b(e.target.files[0])}}),Object(a.jsx)(y.a,{onClick:function(){d.ref("images/".concat(m.name)).put(m).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);i(t)}),(function(e){console.log(e),alert(e.message)}),(function(){d.ref("images").child(m.name).getDownloadURL().then((function(e){p.collection("posts").add({timestamp:u.a.firestore.FieldValue.serverTimestamp(),captains:O,img_link:e,username:t}),i(0),b(null),b("")}))}))},children:"Post"})]})};function S(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var k=Object(_.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var w=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),n=t[0],o=t[1],i=Object(s.useState)(!1),u=Object(r.a)(i,2),d=u[0],m=u[1],b=Object(s.useState)(!1),g=Object(r.a)(b,2),h=g[0],O=g[1],_=Object(s.useState)(!1),w=Object(r.a)(_,2),I=w[0],A=w[1],E=c.a.useState(S),P=Object(r.a)(E,1)[0],B=k(),D=Object(s.useState)(""),L=Object(r.a)(D,2),T=L[0],F=L[1],U=Object(s.useState)(""),z=Object(r.a)(U,2),M=z[0],V=z[1],W=Object(s.useState)(""),J=Object(r.a)(W,2),G=J[0],H=J[1],K=Object(s.useState)(null),Q=Object(r.a)(K,2),R=Q[0],X=Q[1];return Object(s.useEffect)((function(){p.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){o(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(s.useEffect)((function(){var e=j.onAuthStateChanged((function(e){e?(console.log(e),X(e)):X(null)}));return function(){e()}}),[R,M]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("div",{className:"App__navbar",children:[Object(a.jsx)("div",{className:"logo-insta",children:Object(a.jsx)("img",{className:"navbar__img",src:"https://logo-logos.com/wp-content/uploads/2016/10/Instagram_logo_wordmark_logotype.png"})}),R?Object(a.jsxs)("div",{className:"app__logoutcontainer",children:[Object(a.jsx)(y.a,{variant:"contained",color:"primary",style:{marginLeft:"200px"},type:"button",onClick:function(){return j.signOut()},children:"Logout"}),Object(a.jsx)(l.a,{className:"posts__Avatar",children:R.displayName.slice(0,1)}),Object(a.jsx)(f,{username:R.displayName})]}):Object(a.jsxs)("div",{className:"app__logincontainer",children:[Object(a.jsx)("div",{className:"app__logincontainer_signin",children:Object(a.jsx)(y.a,{variant:"contained",color:"primary",style:{marginLeft:"200px"},type:"button",onClick:function(){return O(!0)},children:"Sign In"})}),Object(a.jsx)("div",{className:"app__logincontainer_signup",children:Object(a.jsx)(y.a,{variant:"contained",color:"primary",style:{marginLeft:"200px"},type:"button",onClick:function(){return m(!0)},children:"Sign Up"})})]})]}),Object(a.jsx)(v.a,{open:d,onClose:function(){m(!1)},children:Object(a.jsx)("div",{style:P,className:B.paper,children:Object(a.jsxs)("form",{className:"App__signup",children:[Object(a.jsx)("center",{children:Object(a.jsx)("img",{className:"navbar__img",src:"https://logo-logos.com/wp-content/uploads/2016/10/Instagram_logo_wordmark_logotype.png"})}),Object(a.jsx)(N.a,{type:"email",placeholder:"email",onChange:function(e){return F(e.target.value)}}),Object(a.jsx)(N.a,{type:"text",placeholder:"username",onChange:function(e){return V(e.target.value)}}),Object(a.jsx)(N.a,{type:"password",placeholder:"password",onChange:function(e){return H(e.target.value)}}),Object(a.jsx)(y.a,{type:"submit",onClick:function(e){e.preventDefault(),j.createUserWithEmailAndPassword(T,G).then((function(e){return e.user.updateProfile({displayName:M})})).catch((function(e){return alert(e.message)})),m(!1)},children:"Submit"})]})})}),Object(a.jsx)(v.a,{open:h,onClose:function(){O(!1)},children:Object(a.jsx)("div",{style:P,className:B.paper,children:Object(a.jsxs)("form",{className:"App__signup",children:[Object(a.jsx)("center",{children:Object(a.jsx)("img",{className:"navbar__img",src:"https://logo-logos.com/wp-content/uploads/2016/10/Instagram_logo_wordmark_logotype.png"})}),Object(a.jsx)(N.a,{type:"email",placeholder:"email",onChange:function(e){return F(e.target.value)}}),Object(a.jsx)(N.a,{type:"password",placeholder:"password",onChange:function(e){return H(e.target.value)}}),Object(a.jsx)(y.a,{type:"submit",onClick:function(e){e.preventDefault(),j.signInWithEmailAndPassword(T,G).catch((function(e){return alert(e.message)})),O(!1)},children:"Submit"})]})})}),Object(a.jsx)(v.a,{open:I,onClose:function(){A(!1)},children:Object(a.jsx)("div",{style:P,className:B.paper,children:(null===R||void 0===R?void 0:R.displayName)?Object(a.jsx)(C,{username:R.displayName}):Object(a.jsx)("center",{children:Object(a.jsx)("h3",{children:"Sorry ,Logged In first"})})})}),Object(a.jsx)("div",{className:"App__posts",children:n.map((function(e){var t=e.id,n=e.post;return Object(a.jsx)(x,{postid:t,user:R,usernames:n.username,img_link:n.img_link,captains:n.captains},t)}))}),Object(a.jsx)("div",{className:"uploadsection",children:Object(a.jsx)("center",{children:Object(a.jsx)(y.a,{variant:"contained",color:"secondary",onClick:function(){return A(!0)},children:"Upload Your Post"})})})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,124)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),c(e),o(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),I()}},[[84,1,2]]]);
//# sourceMappingURL=main.af63e0b5.chunk.js.map